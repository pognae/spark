<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="basic">

    <select id="bsc1010Search" parameterType="params" resultType="record">
         SELECT CD_ID_NM
		      , CD_VLD_VAL
		      , CD_NM
              , APCL_STR_DT
			  , APCL_END_DT
			  ,	USE_YN
           FROM TB_COMM_CD
          WHERE 1=1
          ORDER BY CD_VLD_VAL ASC
    </select>

    <select id="bsc1020Search" parameterType="params" resultType="record">
    <![CDATA[
		SELECT	bld_no,
			bcnc_no,
			bcnc_nm,
			bizrno,
			rprsntv_nm,
			telno,
			email,
			dong,
			ho,
			mvn_se,
			delete_at,
			register,
			updde_hour
		FROM	tb_custom
		WHERE	bld_no = #{bldNo}
	]]>
		<!--
		AND	bcnc_no = #{bcncNo}
		AND	bcnc_nm = #{bcncNm}
		AND	bizrno = #{bizrno}
		AND	rprsntv_nm = #{rprsntvNm}
		AND	telno = #{telno}
		AND	email = #{email}
		AND	dong = #{dong}
		AND	ho = #{ho}
		AND	mvn_se = #{mvnSe}
		AND	delete_at = #{deleteAt}
		AND	register = #{register}
		AND	updde_hour = #{upddeHour}
		 -->
    </select>

    <insert id="insertAccount" parameterType="params">
		INSERT INTO TB_CUSTOM (
			bld_no
			, bcnc_no
			, bcnc_nm
			, bizrno
			, rprsntv_nm
			, telno
			, email
			, dong
			, ho
			, mvn_se
			, delete_at
			, register
			, updde_hour
		) VALUES(
			#{bldNo}
			, (SELECT IFNULL(MAX(BCNC_NO)+1, 'C001') FROM TB_CUSTOM A)
			, #{bcncNm}
			, #{bizrno}
			, #{rprsntvNm}
			, #{telno}
			, #{email}
			, #{dong}
			, #{ho}
			, #{mvnSe}
			, 'N'
			, #{register}
			, now()
		)
    </insert>

</mapper>
